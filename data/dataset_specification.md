# 数据集规格说明

## PPT中提到的真实数据集

### 📅 数据来源
- **日期**: 2023年8月14日
- **地点**: 某市
- **线路**: 211线、683线公交数据
- **用途**: 模拟真实乘客流量和出行需求

### 📊 数据内容

#### 1. 乘客刷卡数据
- **乘客唯一识别码**: 用于追踪个体乘客行为
- **上车站点**: 乘客登车的站点编号
- **下车站点**: 乘客下车的站点编号  
- **上车时间**: 乘客刷卡上车的具体时间

#### 2. 交通状况数据
- **预计时间**: 车辆从当前站点到下一站点的预计时间
- **时间粒度**: 15分钟为粒度

#### 3. 车辆行驶信息
- **单程行驶时间**: 车辆完成单程所需的时间

#### 4. 营运数据
根据论文资料，线路的实际营运约束：

| 线路 | 方向 | 营运时间 | 站点数量 | 乘客数据集数量 |
|------|------|----------|----------|----------------|
| 211  | 上行 | 6:00-22:00 | 17 | 2266 |
| 211  | 下行 | 6:00-22:00 | 11 | 2126 |
| 683  | 上行 | 6:00-22:00 | 24 | 1970 |
| 683  | 下行 | 6:00-22:00 | 19 | 1785 |

### 📈 数据预处理说明

根据PPT显示的数据预处理方法：
- **乘客到达时间估算**: 以乘客上车时间为均值，上一辆车离站时间与乘客上车时间差作为两倍的标准差，使用正态分布来估计乘客到达上车站点的时间

### ⚠️ 当前程序的问题

1. **数据集缺失**: 我们没有PPT中提到的真实211、683线数据文件
2. **格式不匹配**: 当前的数据加载器是基于推测格式，不是真实数据格式
3. **参数不准确**: 使用的是通用参数，而非211、683线的实际运营参数

### 🔧 建议的解决方案

1. **获取真实数据**: 需要获取2023年8月14日某市211、683线的实际数据文件
2. **数据格式适配**: 根据真实数据格式调整`PassengerDataLoader`
3. **参数校准**: 使用211、683线的实际运营参数（站点数、营运时间等）
4. **验证对比**: 与论文中的实验结果进行对比验证

### 📝 数据文件期望格式

基于论文描述，期望的数据文件格式应该是：

```csv
# passenger_data_211_683_20230814.csv
passenger_id,boarding_time,boarding_station,alighting_station,line_id,direction
P001,391,1,5,211,up
P002,392,2,8,211,up
P003,393,1,3,683,down
...
```

其中：
- `boarding_time`: 391表示6:31 (6*60+31)
- `line_id`: 211或683
- `direction`: up(上行)或down(下行)
