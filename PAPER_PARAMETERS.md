# 谢嘉昊论文参数完整对照表

## 1. 状态归一化参数（第2873行）

| 参数 | 论文值 | 当前实现 | 状态 |
|------|--------|---------|------|
| µ (等待时间归一化) | 5000 | ~~12~~ → **5000** | ✅ 已修复 |
| δ (发车次数归一化) | 200 | ~~100~~ → **200** | ✅ 已修复 |
| β (滞留乘客惩罚) | 0.2 | 0.2 | ✅ 正确 |
| ζ (发车差异权重) | 0.002 | 0.002 | ✅ 正确 |

## 2. DQN网络参数（表2-2）

| 参数 | 论文值 | 当前实现 | 状态 |
|------|--------|---------|------|
| 学习率 | 0.001 | 0.001 | ✅ 正确 |
| 权重初始化 | 正态分布 | 默认 | ⚠️ 需检查 |
| 激活函数 | ReLU | ReLU | ✅ 正确 |
| 隐层数量 | 12 | 12 | ✅ 正确 |
| 隐层神经元数量 | 500 | 500 | ✅ 正确 |
| 批次大小 B | 64 | 64 | ✅ 正确 |
| 折现系数 γ | 0.4 | 0.4 | ✅ 正确 |
| 经验池大小 M | 3000 | 3000 | ✅ 正确 |
| ε (探索率) | 0.1 | 0.1 (固定) | ✅ 正确 |
| 最大模拟次数 E | 50 | 500 | ❌ **不一致** |
| 学习频率 P | 5 | 5 | ✅ 正确 |
| 参数更新频率 O | 100 | 100 | ✅ 正确 |

## 3. 状态空间定义（公式2.1-2.14）

### 时间特征
- a1_m = th/24 (小时归一化) ✅
- a2_m = tm/60 (分钟归一化) ✅

### 上行特征 (x)
- x1_m = C_max^up / C_max (满载率) ✅
- x2_m = W_m^up / µ (等待时间，µ=5000) ✅ 已修复
- x3_m = o_m^up / e_m^up (运力利用率) ✅
- x4_m = c_m^up / δ (发车次数，δ=200) ✅ 已修复

### 下行特征 (y)
- y1_m = C_max^down / C_max (满载率) ✅
- y2_m = W_m^down / µ (等待时间，µ=5000) ✅ 已修复
- y3_m = o_m^down / e_m^down (运力利用率) ✅
- y4_m = c_m^down / δ (发车次数，δ=200) ✅ 已修复

## 4. 奖励函数参数

### 基础参数
- ω = 1/1000 (等待时间权重) ✅
- β = 0.2 (滞留乘客惩罚) ✅
- ζ = 0.002 (发车差异权重) ✅

### 容量参数（公式2.8）
- α = 1.5 (站立系数) ✅
- C = 车辆座位数 ✅

## 5. 约束参数

| 参数 | 论文值 | 当前实现 | 状态 |
|------|--------|---------|------|
| Tmin | 3分钟 | 3分钟 | ✅ 正确 |
| Tmax | 12分钟 | 12分钟 | ✅ 正确 |
| 服务时间 | 6:00-22:00 | 6:00-21:00 | ⚠️ 不一致 |

## 6. 关键发现

### ❌ 重大问题：训练轮数
- **论文**: E = 50 (最大模拟次数)
- **当前**: episodes = 500
- **差异**: 我们训练了10倍的轮数！

### ✅ 已修复的问题
1. 等待时间归一化：从/12改为/5000
2. 发车次数归一化：从/100改为/200

### ⚠️ 需要验证
1. 权重初始化方法是否为正态分布
2. 服务时间是否应该到22:00
3. 训练轮数是否应该改为50

## 7. 下一步行动

### 立即修改
1. **训练轮数改为50** - 这可能是关键！
2. 检查权重初始化
3. 确认服务时间

### 测试计划
1. 用E=50训练，看是否能复现论文结果
2. 如果50轮不够，逐步增加到100、200
3. 对比不同轮数的效果
