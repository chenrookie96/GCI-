# DRL-TSBC 参数设置文档

本文档记录了DRL-TSBC算法及相关实验中使用的所有参数设置。

## 1. DQN 网络参数（表 2-2）

| 参数 | 值 | 说明 |
|------|-----|------|
| 学习率 | 0.001 | 神经网络训练的学习率 |
| 权重初始化方法 | 正态分布初始化 | 网络权重的初始化方式 |
| 激活函数 | ReLU | 隐藏层使用的激活函数 |
| 隐层数量 | 12 | 神经网络的隐藏层数 |
| 隐层神经元数量 | 500 | 每个隐藏层的神经元个数 |
| 批次大小 B | 64 | 每次训练采样的经验数量 |
| 折扣系数 γ | 0.4 | 未来奖励的折扣因子 |
| 经验池大小 M | 3000 | 经验回放池的容量 |
| ε (epsilon) | 0.1 | ε-贪婪策略的探索概率 |
| 最大模拟次数 E | 50 | 训练的最大episode数 |
| 学习频率 P | 5 | 每P步进行一次网络学习 |
| 参数更新频率 O | 100 | 每O次学习更新一次目标网络 |

## 2. 奖励函数参数

根据算法描述和实验设置，奖励函数中的关键参数为：

| 参数 | 值 | 说明 |
|------|-----|------|
| μ | 5000 | 等待时间归一化参数 |
| δ | 200 | 发车次数差异归一化参数 |
| β | 0.2 | 滞留乘客惩罚权重 |
| ζ | 0.002 | 发车次数平衡权重 |

## 3. 线路特定参数 - ω（等待时间惩罚参数）

### 线路 208

| 方向 | ω 值 |
|------|------|
| 上行 | 1/1000 |
| 下行 | 1/1000 |

### 线路 211

| 方向 | ω 值 |
|------|------|
| 上行 | 1/900 |
| 下行 | 1/900 |

注：DRL-TO算法使用不同的ω值（208上行:1/1000, 208下行:1/500, 211上行:1/500, 211下行:1/300）

## 4. 公交线路信息（表 2-1）（具体读数据表确定）

### 线路 208

| 方向 | 营运时间 | 站点数量 | 乘客数据集数量 |
|------|----------|----------|----------------|
| 上行 | 6:00-21:00 | 26 | 3157 |
| 下行 | 6:00-21:00 | 24 | 2604 |

### 线路 211

| 方向 | 营运时间 | 站点数量 | 乘客数据集数量 |
|------|----------|----------|----------------|
| 上行 | 6:00-22:00 | 17 | 2266 |
| 下行 | 6:00-22:00 | 11 | 2126 |

## 5. 实验结果对比（表 2-3）

### 线路 208

| 方法 | 方向 | 发车次数 | 乘客平均等待时间(m) | 被滞留乘客数量 |
|------|------|----------|---------------------|----------------|
| 人工方案 | 上行 | 72 | 4.06 | 3 |
| 人工方案 | 下行 | 72 | 4.6 | 176 |
| DRL-TO | 上行 | 69 | 3.7 | 0 |
| DRL-TO | 下行 | 72 | 3.2 | 7 |
| DRL-TSBC | 上行 | 73 | 3.7 | 0 |
| DRL-TSBC | 下行 | 73 | 3.8 | 0 |

### 线路 211

| 方法 | 方向 | 发车次数 | 乘客平均等待时间(m) | 被滞留乘客数量 |
|------|------|----------|---------------------|----------------|
| 人工方案 | 上行 | 76 | 4.68 | 0 |
| 人工方案 | 下行 | 76 | 3.5 | 0 |
| DRL-TO | 上行 | 75 | 3.6 | 0 |
| DRL-TO | 下行 | 76 | 3.1 | 0 |
| DRL-TSBC | 上行 | 75 | 4.0 | 0 |
| DRL-TSBC | 下行 | 75 | 3.3 | 0 |

## 6. 其他重要参数

### 公交车辆参数

| 参数 | 值 | 说明 |
|------|-----|------|
| α (站立系数) | 1.5 | 计算客运容量时的站立系数 |
| C_max | - | 公交车最大载客量（具体值需根据车型确定） |
| C (座位数) | - | 公交车座位数（具体值需根据车型确定） |

### 发车间隔约束

| 参数 | 说明 |
|------|------|
| T_min | 最小发车间隔（具体值需根据线路设定） |
| T_max | 最大发车间隔（具体值需根据线路设定） |

## 7. 算法对比说明

- **人工方案**：目前实际应用在公交线路上的方案
- **DRL-TO**：使用单向公交仿真环境进行训练和测试的深度强化学习方法
- **DRL-TSBC**：本文提出的双向公交时刻表排班算法，使用双向公交仿真环境

## 8. 使用说明

在实现DRL-TSBC算法时，应严格遵循以上参数设置。特别注意：

1. 不同线路的ω参数可能需要根据实际情况调整
2. 发车间隔约束（T_min, T_max）需要根据具体线路的运营要求设定
3. 车辆参数（C_max, C）需要根据实际使用的公交车型确定
4. 训练时使用的乘客数据应与实际线路的历史数据相匹配

---

**最后更新时间**: 2025年（根据实际情况更新）
